<Window x:Class="MVVM_Base.View.viewEntry"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:fa = "http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
        xmlns:local="clr-namespace:MVVM_Base.ViewModel"
        Title="Entry"
        Height="450" Width="800"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Loaded="Window_Loaded">

    <!-- 外枠 -->
    <Border CornerRadius="5" BorderThickness="1" BorderBrush="Gray">
        <DockPanel>
            <!-- カスタムタイトルバー -->
            <Grid Height="35" DockPanel.Dock="Top" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop x:Name="TitleBarGradientStop1" Color="{DynamicResource TitleBarAnimFrom1}" Offset="0"/>
                        <GradientStop x:Name="TitleBarGradientStop2" Color="{DynamicResource TitleBarAnimFrom2}" Offset="1"/>
                    </LinearGradientBrush>
                </Grid.Background>
                <TextBlock Text="MVVM_Base" VerticalAlignment="Center" Margin="10" Foreground="White" FontSize="16"/>
                <Border Width="60" Height="30" CornerRadius="15" Background="#444" HorizontalAlignment="Right" Margin="0 0 10 0">
                    <Canvas Width="60" Height="30" Background="Transparent">
                        <Button x:Name="ThemeToggleButton" Style="{StaticResource SlideColorTheme}" Click="ThemeToggleButton_Click" Canvas.Left="0" Canvas.Top="0" />
                    </Canvas>
                </Border>
            </Grid>

            <!-- メイン領域 -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="150"/>
                    <!-- 左ナビ -->
                    <ColumnDefinition Width="*"/>
                    <!-- 右画面 -->
                </Grid.ColumnDefinitions>

                <!-- 左ナビ背景 -->
                <Grid Grid.Column="0" Background="{DynamicResource LeftWindowColor1Brush}" MouseLeftButtonDown="Area_MouseLeftButtonDown">
                    <Grid VerticalAlignment="Stretch">
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <!-- 上のボタン群を伸ばす -->
                            <RowDefinition Height="Auto"/>
                            <!-- 下ボタン群 -->
                        </Grid.RowDefinitions>

                        <!-- Home, A, Bボタン -->
                        <StackPanel Grid.Row="0">
                            <ToggleButton 
                                PreviewMouseLeftButtonDown="NavToggleButton_Click"
                                Checked="NavToggleButton_Check"
                                Style="{StaticResource menuToggleButton}"
                                IsChecked="{Binding IsMainSelected}" 
                                Command="{Binding ShowViewCommand}"
                                CommandParameter="{x:Static local:ViewType.Main}" >
                                
                                <StackPanel Orientation="Horizontal">
                                    <fa:IconImage Icon="Home" Style="{StaticResource menuToggleButtonIcon}" />
                                    <TextBlock Text="Home" Style="{StaticResource menuToggleButtonText}"/>
                                </StackPanel>
                            </ToggleButton>

                            <ToggleButton 
                                PreviewMouseLeftButtonDown="NavToggleButton_Click" 
                                Checked="NavToggleButton_Check"
                                Style="{StaticResource menuToggleButton}" 
                                IsChecked="{Binding IsAViewSelected}"
                                Command="{Binding ShowViewCommand}"
                                CommandParameter="{x:Static local:ViewType.AView}" >
                                
                                <StackPanel Orientation="Horizontal">
                                    <fa:IconImage Icon="FileSignature" Style="{StaticResource menuToggleButtonIcon}" />
                                    <TextBlock Text="A View" Style="{StaticResource menuToggleButtonText}"/>
                                </StackPanel>
                            </ToggleButton>

                            <ToggleButton 
                                PreviewMouseLeftButtonDown="NavToggleButton_Click"
                                Checked="NavToggleButton_Check"
                                Style="{StaticResource menuToggleButton}"
                                IsChecked="{Binding IsBViewSelected}" 
                                Command="{Binding ShowViewCommand}"
                                CommandParameter="{x:Static local:ViewType.BView}" >
                                
                                <StackPanel Orientation="Horizontal">
                                    <fa:IconImage Icon="EnvelopeOpenText" Style="{StaticResource menuToggleButtonIcon}" />
                                    <TextBlock Text="B View" Style="{StaticResource menuToggleButtonText}"/>
                                </StackPanel>
                            </ToggleButton>
                        </StackPanel>

                        <!-- 下ボタン群 -->
                        <StackPanel Grid.Row="1" Margin="0,0,0,10">
                            <!-- Helpボタン -->
                            <ToggleButton 
                                PreviewMouseLeftButtonDown="NavToggleButton_Click" 
                                Checked="NavToggleButton_Check"
                                Style="{StaticResource menuToggleButton}"
                                IsChecked="{Binding IsHelpSelected}" 
                                Command="{Binding ShowViewCommand}"
                                CommandParameter="{x:Static local:ViewType.Help}" >
                                
                                <StackPanel Orientation="Horizontal">
                                    <fa:IconImage Icon="Info" Style="{StaticResource menuToggleButtonIcon}" />
                                    <TextBlock Text="Help" Style="{StaticResource menuToggleButtonText}"/>
                                </StackPanel>
                            </ToggleButton>

                            <!-- Endボタン -->
                            <Border Width="{Binding btnEndWidth, RelativeSource={RelativeSource AncestorType=Window}}" Height="{Binding btnEndHeight, RelativeSource={RelativeSource AncestorType=Window}}" CornerRadius="18" Background="#444">
                                <Canvas Width="{Binding btnEndWidth, RelativeSource={RelativeSource AncestorType=Window}}" Height="{Binding btnEndHeight, RelativeSource={RelativeSource AncestorType=Window}}" Background="Transparent">
                                    <Thumb Style="{StaticResource SlideThumb}" DragDelta="SlideThumb_DragDelta" DragCompleted="SlideThumb_DragCompleted">
                                        
                                    </Thumb>
                                </Canvas>
                            </Border>
                        </StackPanel>
                    </Grid>
                </Grid>

                <!-- 右画面背景 -->
                <Grid Grid.Column="1" Background="{DynamicResource LeftWindowColor2Brush}" MouseLeftButtonDown="Area_MouseLeftButtonDown">
                    <ContentControl Content="{Binding CurrentView}" Background="Transparent"/>
                </Grid>

                <Canvas x:Name="EffectCanvas" Background="Transparent" IsHitTestVisible="False"/>
                <Canvas x:Name="EffectCanvas_tb" Background="Transparent" IsHitTestVisible="False"/>
            </Grid>

        </DockPanel>
    </Border>
</Window>
